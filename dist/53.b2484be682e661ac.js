"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[53],{2053:(le,P,h)=>{h.r(P),h.d(P,{AuthenticationModule:()=>re});var x=h(6895),f=h(9569),c=h(433),I=h(9061),r=h(1571);class C{constructor(s,e,i,t){this.r=s,this.g=e,this.b=i,this.a=t}}class _{constructor(s,e,i,t){this.h=s,this.s=e,this.v=i,this.a=t}}class k{constructor(s,e,i,t){this.h=s,this.s=e,this.l=i,this.a=t}}class w{constructor(s,e,i,t,n=1){this.c=s,this.m=e,this.y=i,this.k=t,this.a=n}}let X=(()=>{class o{constructor(){this.active=null}setActive(e){this.active&&this.active!==e&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=e}hsva2hsla(e){const i=e.h,t=e.s,n=e.v,l=e.a;if(0===n)return new k(i,0,0,l);if(0===t&&1===n)return new k(i,1,1,l);{const a=n*(2-t)/2;return new k(i,n*t/(1-Math.abs(2*a-1)),a,l)}}hsla2hsva(e){const i=Math.min(e.h,1),t=Math.min(e.s,1),n=Math.min(e.l,1),l=Math.min(e.a,1);if(0===n)return new _(i,0,0,l);{const a=n+t*(1-Math.abs(2*n-1))/2;return new _(i,2*(a-n)/a,a,l)}}hsvaToRgba(e){let i,t,n;const l=e.h,a=e.s,p=e.v,d=e.a,v=Math.floor(6*l),g=6*l-v,u=p*(1-a),m=p*(1-g*a),A=p*(1-(1-g)*a);switch(v%6){case 0:i=p,t=A,n=u;break;case 1:i=m,t=p,n=u;break;case 2:i=u,t=p,n=A;break;case 3:i=u,t=m,n=p;break;case 4:i=A,t=u,n=p;break;case 5:i=p,t=u,n=m;break;default:i=0,t=0,n=0}return new C(i,t,n,d)}cmykToRgb(e){return new C((1-e.c)*(1-e.k),(1-e.m)*(1-e.k),(1-e.y)*(1-e.k),e.a)}rgbaToCmyk(e){const i=1-Math.max(e.r,e.g,e.b);return 1===i?new w(0,0,0,1,e.a):new w((1-e.r-i)/(1-i),(1-e.g-i)/(1-i),(1-e.b-i)/(1-i),i,e.a)}rgbaToHsva(e){let i,t;const n=Math.min(e.r,1),l=Math.min(e.g,1),a=Math.min(e.b,1),p=Math.min(e.a,1),d=Math.max(n,l,a),v=Math.min(n,l,a),g=d,u=d-v;if(t=0===d?0:u/d,d===v)i=0;else{switch(d){case n:i=(l-a)/u+(l<a?6:0);break;case l:i=(a-n)/u+2;break;case a:i=(n-l)/u+4;break;default:i=0}i/=6}return new _(i,t,g,p)}rgbaToHex(e,i){let t="#"+(16777216|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return i&&(t+=(256|Math.round(255*e.a)).toString(16).substr(1)),t}normalizeCMYK(e){return new w(e.c/100,e.m/100,e.y/100,e.k/100,e.a)}denormalizeCMYK(e){return new w(Math.floor(100*e.c),Math.floor(100*e.m),Math.floor(100*e.y),Math.floor(100*e.k),e.a)}denormalizeRGBA(e){return new C(Math.round(255*e.r),Math.round(255*e.g),Math.round(255*e.b),e.a)}stringToHsva(e="",i=!1){let t=null;e=(e||"").toLowerCase();const n=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(l){return new C(parseInt(l[2],10)/255,parseInt(l[3],10)/255,parseInt(l[4],10)/255,isNaN(parseFloat(l[5]))?1:parseFloat(l[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(l){return new k(parseInt(l[2],10)/360,parseInt(l[3],10)/100,parseInt(l[4],10)/100,isNaN(parseFloat(l[5]))?1:parseFloat(l[5]))}}];n.push(i?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(l){return new C(parseInt(l[1],16)/255,parseInt(l[2],16)/255,parseInt(l[3],16)/255,parseInt(l[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(l){return new C(parseInt(l[1],16)/255,parseInt(l[2],16)/255,parseInt(l[3],16)/255,1)}}),n.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(l){return new C(parseInt(l[1]+l[1],16)/255,parseInt(l[2]+l[2],16)/255,parseInt(l[3]+l[3],16)/255,1)}});for(const l in n)if(n.hasOwnProperty(l)){const a=n[l],p=a.re.exec(e),d=p&&a.parse(p);if(d)return d instanceof C?t=this.rgbaToHsva(d):d instanceof k&&(t=this.hsla2hsva(d)),t}return t}outputFormat(e,i,t){switch("auto"===i&&(i=e.a<1?"rgba":"hex"),i){case"hsla":const n=this.hsva2hsla(e),l=new k(Math.round(360*n.h),Math.round(100*n.s),Math.round(100*n.l),Math.round(100*n.a)/100);return e.a<1||"always"===t?"hsla("+l.h+","+l.s+"%,"+l.l+"%,"+l.a+")":"hsl("+l.h+","+l.s+"%,"+l.l+"%)";case"rgba":const a=this.denormalizeRGBA(this.hsvaToRgba(e));return e.a<1||"always"===t?"rgba("+a.r+","+a.g+","+a.b+","+Math.round(100*a.a)/100+")":"rgb("+a.r+","+a.g+","+a.b+")";default:const p="always"===t||"forced"===t;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(e)),p)}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=r.Yz7({token:o,factory:o.\u0275fac}),o})();typeof window<"u"&&window;let L=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({providers:[X],imports:[x.ez]}),o})();var V=h(6270),E=h(3941),T=h(4932),S=h(3078);function G(o,s){1&o&&(r.TgZ(0,"div")(1,"div",20),r._uU(2," Veuillez pr\xe9ciser votre email "),r.qZA()())}function J(o,s){1&o&&(r.TgZ(0,"div",21)(1,"div",22),r._uU(2,"Veuillez pr\xe9ciser votre mot de passe"),r.qZA()())}function Q(o,s){1&o&&(r.TgZ(0,"div")(1,"div",20),r._uU(2," Un probl\xe8me est survenu lors de l'insertion de votre v\xe9hivule "),r.qZA()())}function $(o,s){1&o&&r._UZ(0,"span",23)}const ee=function(){return["/auth/signup"]};function ie(o,s){1&o&&r._UZ(0,"span",16)}const oe=[{path:"",children:[{path:"client/signin",component:(()=>{class o{constructor(e,i,t,n,l){this.authService=e,this.formBuilder=i,this.router=t,this.token=n,this.navigation=l,this.loading=!1,this.erreur=!1,this.submitted=!1,this.form=new c.cw({email:new c.NI(""),password:new c.NI("")})}ngOnInit(){this.form=this.formBuilder.group({email:["",c.kI.required],password:["",c.kI.required]})}get f(){return this.form.controls}signin(){const e=this.form.value;this.loading=!0,this.submitted=!0,this.form.invalid?this.loading=!1:this.authService.login(e.email,e.password,"client").subscribe({next:i=>{const t=i;if(this.loading=!1,!t.success)return this.erreur=!0,void(this.loading=!1);this.token.SetToken(t.data.token),this.navigation.set(),this.router.navigateByUrl("/dashboard")},error:i=>{this.erreur=!0,this.loading=!1}})}}return o.\u0275fac=function(e){return new(e||o)(r.Y36(E.g),r.Y36(c.qu),r.Y36(f.F0),r.Y36(T.B),r.Y36(S.D))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-client"]],standalone:!0,features:[r.jDz],decls:28,vars:7,consts:[[1,"auth-wrapper"],[1,"auth-content"],[1,"auth-bg"],[1,"r"],[1,"r","s"],[1,"card"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"card-body","text-center"],[1,"mb-4"],[1,"feather","icon-unlock","auth-icon"],[1,"input-group","mb-3"],["type","email","formControlName","email","placeholder","Email","required","",1,"form-control"],[4,"ngIf"],[1,"input-group","mb-4"],["type","password","formControlName","password","placeholder","Mot de passe","required","",1,"form-control"],["style","\n              padding-left: 12px;\n              padding-top: 10px;\n              justify-content: center;\n              align-items: center;\n              font-size: 12px;\n              color: red;\n            ",4,"ngIf"],[1,"btn","btn-primary","mb-4"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"mb-0","text-muted"],[3,"routerLink"],[1,"offset-3",2,"padding-left","12px","padding-top","10px","font-size","12px","color","red"],[2,"padding-left","12px","padding-top","10px","justify-content","center","align-items","center","font-size","12px","color","red"],[1,"offset-3"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2),r._UZ(3,"span",3)(4,"span",4)(5,"span",4)(6,"span",3),r.qZA(),r.TgZ(7,"div",5)(8,"form",6),r.NdJ("ngSubmit",function(){return i.signin()}),r.TgZ(9,"div",7)(10,"div",8),r._UZ(11,"i",9),r.qZA(),r.TgZ(12,"h3",8),r._uU(13,"Connexion"),r.qZA(),r.TgZ(14,"div",10),r._UZ(15,"input",11),r.qZA(),r.YNc(16,G,3,0,"div",12),r.TgZ(17,"div",13),r._UZ(18,"input",14),r.qZA(),r.YNc(19,J,3,0,"div",15),r.YNc(20,Q,3,0,"div",12),r.TgZ(21,"button",16),r._uU(22," Se connecter "),r.YNc(23,$,1,0,"span",17),r.qZA(),r.TgZ(24,"p",18),r._uU(25," Vous n'avez pas de compte ? "),r.TgZ(26,"a",19),r._uU(27,"S'inscrire"),r.qZA()()()()()()()),2&e&&(r.xp6(8),r.Q6J("formGroup",i.form),r.xp6(8),r.Q6J("ngIf",i.submitted&&i.f.email.errors),r.xp6(3),r.Q6J("ngIf",i.submitted&&i.f.password.errors),r.xp6(1),r.Q6J("ngIf",i.erreur),r.xp6(3),r.Q6J("ngIf",i.loading),r.xp6(3),r.Q6J("routerLink",r.DdM(6,ee)))},dependencies:[x.ez,x.O5,V.m,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,I.XC,L,f.Bz,f.rH]}),o})()},{path:"responsable/signin",component:(()=>{class o{constructor(e,i,t,n,l){this.authService=e,this.router=i,this.formBuilder=t,this.token=n,this.navigation=l,this.loading=!1,this.erreur=!1,this.submitted=!0,this.form=new c.cw({email:new c.NI(""),password:new c.NI("")})}ngOnInit(){this.form=this.formBuilder.group({email:["",c.kI.required],password:["",c.kI.required]})}get f(){return this.form.controls}signin(){const e=this.form.value;this.loading=!0,this.submitted=!0,this.form.invalid?this.loading=!1:this.authService.login(e.email,e.password,"responsable").subscribe({next:i=>{const t=i;if(console.log(t),this.loading=!1,!t.success)return this.erreur=!0,void(this.loading=!1);this.token.SetToken(t.data.token),this.navigation.set(),this.router.navigateByUrl("/dashboard")},error:i=>{this.erreur=!0,this.loading=!1}})}}return o.\u0275fac=function(e){return new(e||o)(r.Y36(E.g),r.Y36(f.F0),r.Y36(c.qu),r.Y36(T.B),r.Y36(S.D))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-responsable"]],standalone:!0,features:[r.jDz],decls:21,vars:2,consts:[[1,"auth-wrapper"],[1,"auth-content"],[1,"auth-bg"],[1,"r"],[1,"r","s"],[1,"card"],[3,"formGroup","ngSubmit"],[1,"card-body","text-center"],[1,"mb-4"],[1,"feather","icon-unlock","auth-icon"],[1,"input-group","mb-3"],["type","email","formControlName","email","placeholder","Email",1,"form-control"],[1,"input-group","mb-4"],["type","password","formControlName","password","placeholder","Mot de passe",1,"form-control"],[1,"btn","btn-primary","mb-4"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2),r._UZ(3,"span",3)(4,"span",4)(5,"span",4)(6,"span",3),r.qZA(),r.TgZ(7,"div",5)(8,"form",6),r.NdJ("ngSubmit",function(){return i.signin()}),r.TgZ(9,"div",7)(10,"div",8),r._UZ(11,"i",9),r.qZA(),r.TgZ(12,"h3",8),r._uU(13,"Connexion"),r.qZA(),r.TgZ(14,"div",10),r._UZ(15,"input",11),r.qZA(),r.TgZ(16,"div",12),r._UZ(17,"input",13),r.qZA(),r.TgZ(18,"button",14),r._uU(19," Se connecter "),r.YNc(20,ie,1,0,"span",15),r.qZA()()()()()()),2&e&&(r.xp6(8),r.Q6J("formGroup",i.form),r.xp6(12),r.Q6J("ngIf",i.loading))},dependencies:[x.ez,x.O5,f.Bz,V.m,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u]}),o})()},{path:"signup",loadComponent:()=>h.e(594).then(h.bind(h,4594))},{path:"logout",redirectTo:"client/signin"}]}];let ne=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[f.Bz.forChild(oe),f.Bz]}),o})(),re=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[x.ez,ne]}),o})()}}]);