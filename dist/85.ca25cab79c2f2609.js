"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[85],{6085:(L,g,i)=>{i.r(g),i.d(g,{ReparationsModule:()=>J});var n=i(6895),l=i(8492),d=i(6337),c=i(6270),t=i(4650),_=i(8858),m=i(4631);function f(a,o){if(1&a&&(t.TgZ(0,"div",12)(1,"app-card",13)(2,"div",4)(3,"div",4)(4,"p")(5,"span",5),t._uU(6,"Cause : "),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"p")(10,"span",5),t._uU(11,"Solution : "),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.qZA()(),t.TgZ(14,"p")(15,"span",5),t._uU(16,"Prix : "),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.ALo(19,"currency"),t.qZA()(),t.TgZ(20,"p")(21,"span",5),t._uU(22,"Etat : "),t.qZA(),t.TgZ(23,"span"),t._uU(24),t.qZA()()()()()()),2&a){const e=o.$implicit,r=o.index;t.xp6(1),t.MGl("cardTitle","Num ",r+1,""),t.Q6J("options",!1),t.xp6(7),t.hij("",e.cause," "),t.xp6(5),t.hij("",e.solution," "),t.xp6(5),t.hij("",t.gM2(19,6,e.prix,"Ar ","symbol","4.2-2")," "),t.xp6(6),t.hij("",e.etat," ")}}let A=(()=>{class a{constructor(e,r){this.activatedRoute=e,this.reparationService=r,this.loading=!1}ngOnInit(){this.loading=!0,this.activatedRoute.params.subscribe(e=>{this.id=e.id,this.reparationService.detailReparation(this.id).subscribe(r=>{1==r.success&&(console.log(r.data),this.reparation=r.data.reparation)})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(l.gz),t.Y36(_.L))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-details"]],standalone:!0,features:[t.jDz],decls:94,vars:30,consts:[[1,"row"],[1,"col-xl-4"],[1,"col-xl-12"],["cardTitle","Client","blockClass","table-border-style",3,"options"],[1,"container-info-vehicule"],[1,"label"],["cardTitle","V\xe9hicule","blockClass","table-border-style",3,"options"],["cardTitle","R\xe9parateur","blockClass","table-border-style",3,"options"],["cardTitle","Paiement","blockClass","table-border-style",3,"options"],[1,"col-xl-8"],["cardTitle","R\xe9parations \xe0 effectuer","blockClass","table-border-style",3,"options"],["class","col-xl-6",4,"ngFor","ngForOf"],[1,"col-xl-6"],["blockClass","table-border-style",3,"cardTitle","options"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-card",3)(4,"div",4)(5,"p")(6,"span",5),t._uU(7,"Nom : "),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()(),t._UZ(10,"hr"),t.TgZ(11,"p")(12,"span",5),t._uU(13,"Pr\xe9nom : "),t.qZA(),t.TgZ(14,"span"),t._uU(15),t.qZA()(),t._UZ(16,"hr"),t.TgZ(17,"p")(18,"span",5),t._uU(19,"Email : "),t.qZA(),t.TgZ(20,"span"),t._uU(21),t.qZA()()()()(),t.TgZ(22,"div",2)(23,"app-card",6)(24,"div",4)(25,"p")(26,"span",5),t._uU(27,"Num\xe9ro : "),t.qZA(),t.TgZ(28,"span"),t._uU(29),t.qZA()(),t._UZ(30,"hr"),t.TgZ(31,"p")(32,"span",5),t._uU(33,"Marque : "),t.qZA(),t.TgZ(34,"span"),t._uU(35),t.qZA()(),t._UZ(36,"hr"),t.TgZ(37,"p")(38,"span",5),t._uU(39,"Mod\xe8le : "),t.qZA(),t.TgZ(40,"span"),t._uU(41),t.qZA()()()()(),t.TgZ(42,"div",2)(43,"app-card",7)(44,"div",4)(45,"p")(46,"span",5),t._uU(47,"Nom : "),t.qZA(),t.TgZ(48,"span"),t._uU(49),t.qZA()(),t._UZ(50,"hr"),t.TgZ(51,"p")(52,"span",5),t._uU(53,"Pr\xe9nom : "),t.qZA(),t.TgZ(54,"span"),t._uU(55),t.qZA()(),t._UZ(56,"hr"),t.TgZ(57,"p")(58,"span",5),t._uU(59,"Email : "),t.qZA(),t.TgZ(60,"span"),t._uU(61),t.qZA()()()()(),t.TgZ(62,"div",2),t._UZ(63,"app-card",8),t.qZA()(),t.TgZ(64,"div",9)(65,"div",0)(66,"div",2)(67,"app-card",10)(68,"div",4)(69,"div",4)(70,"p")(71,"span",5),t._uU(72,"Date de d\xe9p\xf4t : "),t.qZA(),t.TgZ(73,"span"),t._uU(74),t.ALo(75,"date"),t.ALo(76,"date"),t.qZA()(),t.TgZ(77,"p")(78,"span",5),t._uU(79,"Date de sortie : "),t.qZA(),t.TgZ(80,"span"),t._uU(81),t.ALo(82,"date"),t.ALo(83,"date"),t.qZA()(),t.TgZ(84,"p")(85,"span",5),t._uU(86,"Montant total : "),t.qZA(),t._UZ(87,"span"),t.qZA(),t.TgZ(88,"p")(89,"span",5),t._uU(90," \xc9tat des r\xe9parations : "),t.qZA(),t.TgZ(91,"span"),t._uU(92),t.qZA()()()()()(),t.YNc(93,f,25,11,"div",11),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("options",!1),t.xp6(6),t.hij("",r.reparation.client.nom," "),t.xp6(6),t.hij("",r.reparation.client.prenom," "),t.xp6(6),t.hij("",r.reparation.client.email," "),t.xp6(2),t.Q6J("options",!1),t.xp6(6),t.hij("",r.reparation.voiture.numero," "),t.xp6(6),t.hij("",r.reparation.voiture.marque," "),t.xp6(6),t.hij("",r.reparation.voiture.model," "),t.xp6(2),t.Q6J("options",!1),t.xp6(6),t.hij("",r.reparation.reparateur.nom," "),t.xp6(6),t.hij("",r.reparation.reparateur.prenom," "),t.xp6(6),t.hij("",r.reparation.reparateur.email," "),t.xp6(2),t.Q6J("options",!1),t.xp6(4),t.Q6J("options",!1),t.xp6(7),t.AsE("",t.lcZ(75,20,r.reparation.date_depot)," - ",t.xi3(76,22,r.reparation.date_depot,"shortTime")," "),t.xp6(7),t.AsE("",t.lcZ(82,25,r.reparation.date_sortie)," - ",t.xi3(83,27,r.reparation.date_sortie,"shortTime")," "),t.xp6(11),t.hij("",r.reparation.status," "),t.xp6(1),t.Q6J("ngForOf",r.reparation.reparation_faire))},dependencies:[n.ez,n.sg,n.H9,n.uU,c.m,m.A,d.d],styles:[".label[_ngcontent-%COMP%]{font-weight:700;color:#000}"]}),a})();var h=i(3301);const T=function(a){return["/users/reparations/details",a]},b=function(a){return["/users/reparations/facture",a]};function v(a,o){if(1&a&&(t.TgZ(0,"tr")(1,"th",7),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",8)(12,"a",9)(13,"button",10),t._uU(14,"Avancement"),t.qZA()(),t.TgZ(15,"a",9)(16,"button",11),t._uU(17,"Facture"),t.qZA()()()()),2&a){const e=o.$implicit,r=o.index;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(e.voiture.numero),t.xp6(2),t.AsE("",t.lcZ(7,7,e.date_depot)," - ",t.xi3(8,9,e.date_depot,"shortTime"),""),t.xp6(4),t.Oqu(e.status),t.xp6(2),t.Q6J("routerLink",t.VKq(12,T,e._id)),t.xp6(3),t.Q6J("routerLink",t.VKq(14,b,e._id))}}function U(a,o){1&a&&t._UZ(0,"span",12)}let q=(()=>{class a{constructor(e){this.userService=e,this.reparations=[],this.loading=!0,this.tables=[{src:"assets/images/user/avatar-1.jpg",title:"Isabella Christensen",text:"Lorem Ipsum is simply dummy",time:"11 MAY 12:56",color:"text-c-green"},{src:"assets/images/user/avatar-2.jpg",title:"Ida Jorgensen",text:"Lorem Ipsum is simply",time:"11 MAY 10:35",color:"text-c-red"},{src:"assets/images/user/avatar-3.jpg",title:"Mathilda Andersen",text:"Lorem Ipsum is simply dummy",time:"9 MAY 17:38",color:"text-c-green"},{src:"assets/images/user/avatar-1.jpg",title:"Karla Soreness",text:"Lorem Ipsum is simply",time:"19 MAY 12:56",color:"text-c-red"},{src:"assets/images/user/avatar-2.jpg",title:"Albert Andersen",text:"Lorem Ipsum is",time:"21 July 12:56",color:"text-c-green"}]}ngOnInit(){this.userService.listReparations().subscribe(e=>{1==e.success&&(this.loading=!1,console.log(e.data),this.reparations=e.data.reparations)})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(h.f))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-liste"]],standalone:!0,features:[t.jDz],decls:20,vars:3,consts:[[1,"row"],[1,"col-xl-12"],["cardTitle","Liste de vos r\xe9parations","blockClass","table-border-style",3,"options"],[1,"table-responsive"],[1,"table","table-striped","table-hover","table-responsive"],[4,"ngFor","ngForOf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["scope","row"],[1,"action"],[3,"routerLink"],[1,"btn","btn-secondary"],[1,"btn","btn-primary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-card",2)(3,"div",3)(4,"table",4)(5,"thead")(6,"tr")(7,"th"),t._uU(8,"#"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"V\xe9hicule"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Date de d\xe9p\xf4t"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Status"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Action"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,v,18,16,"tr",5),t.qZA()(),t.YNc(19,U,1,0,"span",6),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("options",!1),t.xp6(16),t.Q6J("ngForOf",r.reparations),t.xp6(1),t.Q6J("ngIf",r.loading))},dependencies:[n.ez,n.sg,n.O5,n.uU,c.m,m.A,d.d,l.Bz,l.rH],styles:[".action[_ngcontent-%COMP%]{width:200px}"]}),a})();var s=i(4006),x=i(2953);function C(a,o){if(1&a&&(t.TgZ(0,"tr")(1,"th",17),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA()()),2&a){const e=o.$implicit;t.xp6(2),t.Oqu(e.solution),t.xp6(2),t.Oqu(t.gM2(5,2,e.prix,"Ar ","symbol","4.2-2"))}}function y(a,o){1&a&&t._UZ(0,"span",18)}function F(a,o){1&a&&t._UZ(0,"span",18)}function j(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",19)(1,"h4",20),t._uU(2," Details reparations de la voitures "),t.qZA(),t.TgZ(3,"button",21),t.NdJ("click",function(){const u=t.CHM(e).$implicit;return t.KtG(u.dismiss("Cross click"))}),t.qZA()(),t.TgZ(4,"div",22)(5,"form",23),t.NdJ("ngSubmit",function(){t.CHM(e);const p=t.oxw();return t.KtG(p.payerReparation())}),t.TgZ(6,"div",0)(7,"div",24)(8,"label",25),t._uU(9,"Mode de paiement"),t.qZA(),t.TgZ(10,"div",26),t._UZ(11,"input",27),t.qZA()(),t.TgZ(12,"div",24)(13,"label",25),t._uU(14,"Montant"),t.qZA(),t.TgZ(15,"div",26),t._UZ(16,"input",28),t.qZA()(),t.TgZ(17,"div",24),t._UZ(18,"label",25),t.TgZ(19,"div",29)(20,"button",30),t._uU(21," Pay\xe9e "),t.YNc(22,F,1,0,"span",13),t.qZA()()()()()(),t._UZ(23,"div",31)}if(2&a){const e=t.oxw();t.xp6(5),t.Q6J("formGroup",e.form),t.xp6(17),t.Q6J("ngIf",e.loading)}}const M=[{path:"",children:[{path:"details/:id",component:A},{path:"facture/:id",component:(()=>{class a{constructor(e,r,p,u,Z){this.formBuilder=e,this.modalService=r,this.activatedRoute=p,this.reparationService=u,this.userService=Z,this.montantTotal=0,this.loading=!1,this.submitted=!1,this.error=!1,this.form=new s.cw({mode:new s.NI(""),montant:new s.NI(0)})}ngOnInit(){this.form=this.formBuilder.group({mode:["",s.kI.required],montant:[0,s.kI.required]}),this.loading=!0,this.activatedRoute.params.subscribe(e=>{this.id=e.id,this.reparationService.detailReparation(this.id).subscribe(r=>{1==r.success&&(this.loading=!1,this.reparation=r.data.reparation,r.data.reparation.reparation_faire.forEach(p=>{this.montantTotal+=Number(p.prix)}))})})}get f(){return this.form.controls}open(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",fullscreen:!1,centered:!0})}payerReparation(){this.loading=!0,this.submitted=!0,this.form.invalid?this.loading=!1:this.userService.payerReparation({mode:this.form.value.mode,recu:this.form.value.montant},this.reparation._id).subscribe(r=>{r.success||(this.error=!0),this.loading=!1})}onReset(){this.submitted=!1,this.form.reset()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(s.qu),t.Y36(x.FF),t.Y36(l.gz),t.Y36(_.L),t.Y36(h.f))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-facture"]],standalone:!0,features:[t.jDz],decls:70,vars:17,consts:[[1,"row"],[1,"col-xl-4"],[1,"col-xl-12"],["cardTitle","Client","blockClass","table-border-style",3,"options"],[1,"container-info-vehicule"],[1,"label"],["cardTitle","V\xe9hicule","blockClass","table-border-style",3,"options"],[1,"col-xl-8"],["cardTitle","Facture","blockClass","table-border-style",3,"options"],[1,"table-responsive"],[1,"table","table-striped","table-hover","table-responsive"],[4,"ngFor","ngForOf"],[1,"float-end"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"btn","btn-lg","btn-outline-primary",3,"click"],[1,"col-xl-6"],["content",""],["scope","row"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"col"],["for","dateOfBirth"],[1,"input-group"],["id","dateOfBirth","formControlName","mode","placeholder","Carte visa / MVola",1,"form-control"],["id","dateOfBirth","formControlName","montant","placeholder","0",1,"form-control"],[1,""],["type","submit",1,"btn","btn-primary"],[1,"modal-footer"]],template:function(e,r){if(1&e){const p=t.EpF();t.TgZ(0,"p"),t._uU(1,"facture works!"),t.qZA(),t.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"app-card",3)(6,"div",4)(7,"p")(8,"span",5),t._uU(9,"Nom : "),t.qZA(),t.TgZ(10,"span"),t._uU(11),t.qZA()(),t._UZ(12,"hr"),t.TgZ(13,"p")(14,"span",5),t._uU(15,"Pr\xe9nom : "),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.qZA()(),t._UZ(18,"hr"),t.TgZ(19,"p")(20,"span",5),t._uU(21,"Email : "),t.qZA(),t.TgZ(22,"span"),t._uU(23),t.qZA()()()()()(),t.TgZ(24,"div",1)(25,"app-card",6)(26,"div",4)(27,"p")(28,"span",5),t._uU(29,"Num\xe9ro : "),t.qZA(),t.TgZ(30,"span"),t._uU(31),t.qZA()(),t._UZ(32,"hr"),t.TgZ(33,"p")(34,"span",5),t._uU(35,"Marque : "),t.qZA(),t.TgZ(36,"span"),t._uU(37),t.qZA()(),t._UZ(38,"hr"),t.TgZ(39,"p")(40,"span",5),t._uU(41,"Mod\xe8le : "),t.qZA(),t.TgZ(42,"span"),t._uU(43),t.qZA()()()()(),t.TgZ(44,"div",7)(45,"div",0)(46,"div",2)(47,"app-card",8)(48,"div",9)(49,"table",10)(50,"thead")(51,"tr")(52,"th"),t._uU(53,"Description"),t.qZA(),t.TgZ(54,"th"),t._uU(55,"Montant"),t.qZA()()(),t.TgZ(56,"tbody"),t.YNc(57,C,6,7,"tr",11),t.qZA()(),t.TgZ(58,"p",12)(59,"span",5),t._uU(60,"Total : "),t.qZA(),t.TgZ(61,"span",5),t._uU(62),t.ALo(63,"currency"),t.qZA()(),t.YNc(64,y,1,0,"span",13),t.qZA(),t.TgZ(65,"button",14),t.NdJ("click",function(){t.CHM(p);const Z=t.MAs(69);return t.KtG(r.open(Z))}),t._uU(66," Pay\xe9e "),t.qZA()()()()(),t.TgZ(67,"div",15),t.YNc(68,j,24,2,"ng-template",null,16,t.W1O),t.qZA()()}2&e&&(t.xp6(5),t.Q6J("options",!1),t.xp6(6),t.hij("",r.reparation.client.nom," "),t.xp6(6),t.hij("",r.reparation.client.prenom," "),t.xp6(6),t.hij("",r.reparation.client.email," "),t.xp6(2),t.Q6J("options",!1),t.xp6(6),t.hij("",r.reparation.voiture.numero," "),t.xp6(6),t.hij("",r.reparation.voiture.marque," "),t.xp6(6),t.hij("",r.reparation.voiture.model," "),t.xp6(4),t.Q6J("options",!1),t.xp6(10),t.Q6J("ngForOf",r.reparation.reparation_faire),t.xp6(5),t.hij("",t.gM2(63,12,r.montantTotal,"Ar ","symbol","4.2-2")," "),t.xp6(2),t.Q6J("ngIf",r.loading))},dependencies:[n.ez,n.sg,n.O5,n.H9,c.m,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,m.A,d.d],styles:[".label[_ngcontent-%COMP%]{font-weight:700;color:#000}"]}),a})()},{path:"liste",component:q}]}];let E=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[l.Bz.forChild(M),l.Bz]}),a})(),J=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[n.ez,E]}),a})()}}]);