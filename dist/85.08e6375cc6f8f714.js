"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[85],{6085:(y,A,o)=>{o.r(A),o.d(A,{ReparationsModule:()=>N});var u=o(6895),h=o(8492),f=o(6337),b=o(6270),d=o(8423),e=o(4650),U=o(8858),T=o(4631);function C(n,p){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const a=e.oxw();e.xp6(1),e.hij("",a.reparation.paiement.mode," ")}}function x(n,p){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const a=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,1,a.reparation.paiement.recu)," Ar ")}}function q(n,p){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()()),2&n){const a=p.$implicit;e.xp6(2),e.Oqu(a.cause),e.xp6(2),e.Oqu(a.solution),e.xp6(2),e.hij("",e.lcZ(7,4,a.prix)," Ar"),e.xp6(3),e.Oqu(a.etat)}}let S=(()=>{class n{constructor(a,t,i){this.activatedRoute=a,this.reparationService=t,this.spinner=i,this.loading=!1,this.haspaiement=!1,this.paiementvalidate=!1,this.total=0}ngOnInit(){this.activatedRoute.params.subscribe(a=>{this.id=a.id}),this.getReparation(this.id),this.reparationService.Refresh.subscribe(a=>{this.getReparation(this.id)})}getReparation(a){this.spinner.show(),this.reparationService.detailReparation(a).subscribe(t=>{1==t.success&&(this.reparation=t.data.reparation,this.haspaiement=null!=this.reparation.paiement,this.paiementvalidate=1==this.reparation.paiement.valid,t.data.reparation.reparation_faire.forEach(i=>{this.total+=Number(i.prix)}),this.spinner.hide())})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(h.gz),e.Y36(U.L),e.Y36(d.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-details"]],standalone:!0,features:[e.jDz],decls:125,vars:36,consts:[["bdColor","rgba(0,0,0,0.8)","size","default","color","","type","ball-spin-clockwise",3,"fullScreen"],[1,"row"],[1,"col"],["cardTitle","Client","blockClass","table-border-style",3,"options"],[1,"container-info-vehicule"],[1,"label"],["cardTitle","V\xe9hicule","blockClass","table-border-style",3,"options"],["cardTitle","Paiement","blockClass","table-border-style",3,"options"],[1,"container-info-paiement"],[4,"ngIf"],[1,"badge","badge-success",3,"ngClass"],["cardTitle","R\xe9parateur","blockClass","table-border-style",3,"options"],["cardTitle","D\xe9tails","blockClass","table-border-style",3,"options"],["cardTitle","Liste de r\xe9paration \xe0 faire","blockClass","table-border-style",3,"options"],[1,"table-responsive"],[1,"table","table-striped","table-hover","table-responsive"],[4,"ngFor","ngForOf"]],template:function(a,t){1&a&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"app-card",3)(4,"div",4)(5,"p")(6,"span",5),e._uU(7,"Nom : "),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()(),e._UZ(10,"hr"),e.TgZ(11,"p")(12,"span",5),e._uU(13,"Pr\xe9nom : "),e.qZA(),e.TgZ(14,"span"),e._uU(15),e.qZA()(),e._UZ(16,"hr"),e.TgZ(17,"p")(18,"span",5),e._uU(19,"Email : "),e.qZA(),e.TgZ(20,"span"),e._uU(21),e.qZA()()()()(),e.TgZ(22,"div",2)(23,"app-card",6)(24,"div",4)(25,"p")(26,"span",5),e._uU(27,"Num\xe9ro : "),e.qZA(),e.TgZ(28,"span"),e._uU(29),e.qZA()(),e._UZ(30,"hr"),e.TgZ(31,"p")(32,"span",5),e._uU(33,"Marque : "),e.qZA(),e.TgZ(34,"span"),e._uU(35),e.qZA()(),e._UZ(36,"hr"),e.TgZ(37,"p")(38,"span",5),e._uU(39,"Mod\xe8le : "),e.qZA(),e.TgZ(40,"span"),e._uU(41),e.qZA()()()()(),e.TgZ(42,"div",2)(43,"app-card",7)(44,"div",8)(45,"p")(46,"span",5),e._uU(47,"Mode de paiement : "),e.qZA(),e.YNc(48,C,2,1,"span",9),e.qZA(),e._UZ(49,"hr"),e.TgZ(50,"p")(51,"span",5),e._uU(52,"Montant : "),e.qZA(),e.YNc(53,x,3,3,"span",9),e.qZA(),e._UZ(54,"hr"),e.TgZ(55,"p")(56,"span",5),e._uU(57,"Status paiement: "),e.qZA(),e.TgZ(58,"span",10),e._uU(59),e.qZA()()()()()(),e.TgZ(60,"div",1)(61,"div",2)(62,"app-card",11)(63,"div",4)(64,"p")(65,"span",5),e._uU(66,"Nom : "),e.qZA(),e.TgZ(67,"span"),e._uU(68),e.qZA()(),e._UZ(69,"hr"),e.TgZ(70,"p")(71,"span",5),e._uU(72,"Pr\xe9nom : "),e.qZA(),e.TgZ(73,"span"),e._uU(74),e.qZA()(),e._UZ(75,"hr"),e.TgZ(76,"p")(77,"span",5),e._uU(78,"Email : "),e.qZA(),e.TgZ(79,"span"),e._uU(80),e.qZA()()()()(),e.TgZ(81,"div",2)(82,"app-card",12)(83,"div",4)(84,"div",4)(85,"p")(86,"span",5),e._uU(87,"Date de d\xe9p\xf4t : "),e.qZA(),e.TgZ(88,"span"),e._uU(89),e.ALo(90,"date"),e.ALo(91,"date"),e.qZA()(),e.TgZ(92,"p")(93,"span",5),e._uU(94,"Date de sortie : "),e.qZA(),e.TgZ(95,"span"),e._uU(96),e.ALo(97,"date"),e.ALo(98,"date"),e.qZA()(),e.TgZ(99,"p")(100,"span",5),e._uU(101,"Montant total : "),e.qZA(),e._UZ(102,"span"),e.qZA(),e.TgZ(103,"p")(104,"span",5),e._uU(105," \xc9tat des r\xe9parations : "),e.qZA(),e.TgZ(106,"span"),e._uU(107),e.qZA()()()()()()(),e.TgZ(108,"div",1)(109,"div",2)(110,"app-card",13)(111,"div",14)(112,"table",15)(113,"thead")(114,"tr")(115,"th"),e._uU(116,"Cause"),e.qZA(),e.TgZ(117,"th"),e._uU(118,"Solution"),e.qZA(),e.TgZ(119,"th"),e._uU(120,"Prix"),e.qZA(),e.TgZ(121,"th"),e._uU(122,"Etat"),e.qZA()()(),e.TgZ(123,"tbody"),e.YNc(124,q,10,6,"tr",16),e.qZA()()()()()()),2&a&&(e.Q6J("fullScreen",!0),e.xp6(3),e.Q6J("options",!1),e.xp6(6),e.hij("",t.reparation.client.nom," "),e.xp6(6),e.hij("",t.reparation.client.prenom," "),e.xp6(6),e.hij("",t.reparation.client.email," "),e.xp6(2),e.Q6J("options",!1),e.xp6(6),e.hij("",t.reparation.voiture.numero," "),e.xp6(6),e.hij("",t.reparation.voiture.marque," "),e.xp6(6),e.hij("",t.reparation.voiture.model," "),e.xp6(2),e.Q6J("options",!1),e.xp6(5),e.Q6J("ngIf",t.haspaiement),e.xp6(5),e.Q6J("ngIf",t.haspaiement),e.xp6(5),e.Q6J("ngClass",t.paiementvalidate?"label theme-bg text-white f-12 rounded-pill":"label theme-bg2 text-white f-12 rounded-pill"),e.xp6(1),e.hij("",t.paiementvalidate?"Valid\xe9":"Non valid\xe9"," "),e.xp6(3),e.Q6J("options",!1),e.xp6(6),e.hij("",t.reparation.reparateur.nom," "),e.xp6(6),e.hij("",t.reparation.reparateur.prenom," "),e.xp6(6),e.hij("",t.reparation.reparateur.email," "),e.xp6(2),e.Q6J("options",!1),e.xp6(7),e.AsE("",e.lcZ(90,26,t.reparation.date_depot)," - ",e.xi3(91,28,t.reparation.date_depot,"shortTime")," "),e.xp6(7),e.AsE("",e.lcZ(97,31,t.reparation.date_sortie)," - ",e.xi3(98,33,t.reparation.date_sortie,"shortTime")," "),e.xp6(11),e.hij("",t.reparation.status," "),e.xp6(3),e.Q6J("options",!1),e.xp6(14),e.Q6J("ngForOf",t.reparation.reparation_faire))},dependencies:[u.ez,u.mk,u.sg,u.O5,u.JJ,u.uU,b.m,T.A,f.d,d.ef,d.Ro],styles:[".label[_ngcontent-%COMP%]{font-weight:700;color:#000}"]}),n})();var r=o(4006),c=o(1366),s=o(7590),Z=o(3301),_=o(4763),g=o(1195);function E(n,p){1&n&&(e.TgZ(0,"span",18),e._uU(1,"Loading..."),e.qZA())}const m=function(n){return["/users/reparations/details",n]},M=function(n){return["/users/reparations/facture",n]};function J(n,p){if(1&n){const a=e.EpF();e.TgZ(0,"tr")(1,"th",19),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"ngb-highlight",20),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"ngb-highlight",20),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td"),e._UZ(9,"ngb-highlight",20),e.qZA(),e.TgZ(10,"td",21)(11,"a",22)(12,"button",23),e._uU(13," Avancement "),e.qZA()(),e.TgZ(14,"a",22)(15,"button",24),e._uU(16," Facture "),e.qZA()(),e.TgZ(17,"button",25),e.NdJ("click",function(){const l=e.CHM(a).$implicit,v=e.oxw();return e.KtG(v.recuperer(l._id))}),e._uU(18," Recup\xe9rer "),e.qZA()()()}if(2&n){const a=p.$implicit,t=e.oxw();e.xp6(2),e.Oqu(a.client.nom),e.xp6(2),e.Q6J("result",a.voiture.numero)("term",t.tableService.searchTerm),e.xp6(2),e.Q6J("result",e.lcZ(7,9,a.date_depot))("term",t.tableService.searchTerm),e.xp6(3),e.Q6J("result",a.status)("term",t.tableService.searchTerm),e.xp6(2),e.Q6J("routerLink",e.VKq(11,m,a._id)),e.xp6(3),e.Q6J("routerLink",e.VKq(13,M,a._id))}}let O=(()=>{class n{constructor(a,t,i,l){this.userService=a,this.tableService=t,this.spinner=i,this.toast=l,this.reparations=[],this.loading=!0}ngOnInit(){this.spinner.show(),this.userService.listReparations().subscribe(a=>{1==a.success&&(this.loading=!1,this.reparations=a.data.reparations,this.tableService._setData(this.reparations),this.tableService._init(),this._reparations$=this.tableService.reparations$,this.total$=this.tableService.total$,this.spinner.hide())})}onSort({column:a,direction:t}){this.headers.forEach(i=>{i.sortable!==a&&(i.direction="")}),this.tableService.sortColumn=a,this.tableService.sortDirection=t}recuperer(a){this.spinner.show(),this.userService.recupererVoiture(a).subscribe({next:t=>{this.spinner.hide(),t.success?this.toast.ShowSuccess("Recup\xe9ration",t.message.toString()):t.error&&this.toast.ShowError("Recup\xe9ration","Votre voiture n'est pas encore pr\xeate ou le paiement n'est pas valid\xe9")},error:t=>{this.spinner.hide(),this.toast.ShowError("Recup\xe9ration",t)}})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(Z.f),e.Y36(_.i),e.Y36(d.t2),e.Y36(g.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-liste"]],viewQuery:function(a,t){if(1&a&&e.Gf(s.j,5),2&a){let i;e.iGM(i=e.CRH())&&(t.headers=i)}},standalone:!0,features:[e.jDz],decls:42,vars:20,consts:[["bdColor","rgba(0,0,0,0.8)","size","default","color","","type","ball-spin-clockwise",3,"fullScreen"],[1,"row"],[1,"col-xl-12"],["cardTitle","Liste de vos r\xe9parations","blockClass","table-border-style",3,"options"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModel","ngModelChange"],["class","col col-form-label",4,"ngIf"],[1,"table","table-striped"],["scope","col"],["scope","col","sortable","",3,"sort"],["scope","col","sortable","",1,"text-right",3,"sort"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","pageChange"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"col","col-form-label"],["scope","row"],[3,"result","term"],[1,"text-right"],[3,"routerLink"],[1,"label","theme-bg2","text-white","f-12","rounded-pill"],[1,"label","theme-bg","text-white","f-12","rounded-pill"],[1,"label","theme-bg2","text-white","f-12","rounded-pill",3,"click"]],template:function(a,t){1&a&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"app-card",3)(4,"form")(5,"div",4)(6,"label",5),e._uU(7,"Recherche par nom client :"),e.qZA(),e.TgZ(8,"div",6)(9,"input",7),e.NdJ("ngModelChange",function(l){return t.tableService.searchTerm=l}),e.qZA()(),e.YNc(10,E,2,0,"span",8),e.ALo(11,"async"),e.qZA(),e.TgZ(12,"table",9)(13,"thead")(14,"tr")(15,"th",10),e._uU(16,"Client"),e.qZA(),e.TgZ(17,"th",11),e.NdJ("sort",function(l){return t.onSort(l)}),e._uU(18,"V\xe9hicule"),e.qZA(),e.TgZ(19,"th",11),e.NdJ("sort",function(l){return t.onSort(l)}),e._uU(20," Date de depot "),e.qZA(),e.TgZ(21,"th",11),e.NdJ("sort",function(l){return t.onSort(l)}),e._uU(22,"Status"),e.qZA(),e.TgZ(23,"th",12),e.NdJ("sort",function(l){return t.onSort(l)}),e._uU(24,"Actions"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,J,19,15,"tr",13),e.ALo(27,"async"),e.qZA()(),e.TgZ(28,"div",14)(29,"ngb-pagination",15),e.NdJ("pageChange",function(l){return t.tableService.page=l}),e.ALo(30,"async"),e.qZA(),e.TgZ(31,"select",16),e.NdJ("ngModelChange",function(l){return t.tableService.pageSize=l}),e.TgZ(32,"option",17),e._uU(33,"5"),e.qZA(),e.TgZ(34,"option",17),e._uU(35,"10"),e.qZA(),e.TgZ(36,"option",17),e._uU(37,"20"),e.qZA(),e.TgZ(38,"option",17),e._uU(39,"30"),e.qZA(),e.TgZ(40,"option",17),e._uU(41,"40"),e.qZA()()()()()()()),2&a&&(e.Q6J("fullScreen",!0),e.xp6(3),e.Q6J("options",!1),e.xp6(6),e.Q6J("ngModel",t.tableService.searchTerm),e.xp6(1),e.Q6J("ngIf",e.lcZ(11,14,t.tableService.loading$)),e.xp6(16),e.Q6J("ngForOf",e.lcZ(27,16,t._reparations$)),e.xp6(3),e.Q6J("collectionSize",e.lcZ(30,18,t.total$))("page",t.tableService.page)("pageSize",t.tableService.pageSize),e.xp6(2),e.Q6J("ngModel",t.tableService.pageSize),e.xp6(1),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",20),e.xp6(2),e.Q6J("ngValue",30),e.xp6(2),e.Q6J("ngValue",40))},dependencies:[b.m,u.sg,u.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.On,r.F,T.A,c.N9,c._h,u.Ov,u.uU,u.ez,r.u5,s.j,c.ZS,c.jF,h.Bz,h.rH,d.ef,d.Ro],styles:[".action[_ngcontent-%COMP%]{width:200px}.label[_ngcontent-%COMP%]{font-weight:700;color:#000}.text-right[_ngcontent-%COMP%]{text-align:right!important}.text-center[_ngcontent-%COMP%]{text-align:center!important}.text-left[_ngcontent-%COMP%]{text-align:left!important}"]}),n})();function L(n,p){if(1&n&&(e.TgZ(0,"tr")(1,"th",17),e._uU(2),e.qZA(),e.TgZ(3,"td",11),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&n){const a=p.$implicit;e.xp6(2),e.Oqu(a.solution),e.xp6(2),e.hij(" ",e.gM2(5,2,a.prix,"Ar ","symbol","4.2-2")," ")}}function j(n,p){1&n&&e._UZ(0,"span",18)}function R(n,p){1&n&&e._UZ(0,"span",18)}function F(n,p){if(1&n){const a=e.EpF();e.TgZ(0,"div",19)(1,"h4",20),e._uU(2," Details reparations de la voitures "),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){const l=e.CHM(a).$implicit;return e.KtG(l.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",22)(5,"form",23),e.NdJ("ngSubmit",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.payerReparation())}),e.TgZ(6,"div",1)(7,"div",2)(8,"label",24),e._uU(9,"Mode de paiement"),e.qZA(),e.TgZ(10,"div",25)(11,"select",26)(12,"option",27),e._uU(13,"Mvola"),e.qZA(),e.TgZ(14,"option",28),e._uU(15,"Orange Money"),e.qZA(),e.TgZ(16,"option",29),e._uU(17,"Visa"),e.qZA(),e.TgZ(18,"option",30),e._uU(19,"Espece"),e.qZA()()()(),e.TgZ(20,"div",2)(21,"label",24),e._uU(22,"Montant"),e.qZA(),e.TgZ(23,"div",25),e._UZ(24,"input",31),e.qZA()(),e.TgZ(25,"div",2),e._UZ(26,"label",24),e.TgZ(27,"div",32)(28,"button",33),e._uU(29," Pay\xe9e "),e.YNc(30,R,1,0,"span",14),e.qZA()()()()()(),e._UZ(31,"div",34)}if(2&n){const a=e.oxw();e.xp6(5),e.Q6J("formGroup",a.form),e.xp6(25),e.Q6J("ngIf",a.loading)}}const Q=[{path:"",children:[{path:"details/:id",component:S},{path:"facture/:id",component:(()=>{class n{constructor(a,t,i,l,v,P,w){this.formBuilder=a,this.modalService=t,this.activatedRoute=i,this.reparationService=l,this.userService=v,this.toast=P,this.spinner=w,this.montantTotal=0,this.loading=!1,this.submitted=!1,this.error=!1,this.form=new r.cw({mode:new r.NI(""),montant:new r.NI(0)})}ngOnInit(){this.form=this.formBuilder.group({mode:["",r.kI.required],montant:[0,r.kI.required]}),this.spinner.show(),this.loading=!0,this.activatedRoute.params.subscribe(a=>{this.id=a.id,this.reparationService.detailReparation(this.id).subscribe(t=>{1==t.success&&(this.loading=!1,this.reparation=t.data.reparation,t.data.reparation.reparation_faire.forEach(i=>{this.montantTotal+=Number(i.prix)}),this.spinner.hide())})})}get f(){return this.form.controls}open(a){this.modalService.open(a,{ariaLabelledBy:"modal-basic-title",fullscreen:!1,centered:!0})}payerReparation(){this.loading=!0,this.submitted=!0,this.form.invalid?this.loading=!1:this.userService.payerReparation({mode:this.form.value.mode,recu:this.form.value.montant},this.reparation._id).subscribe(t=>{t.success?(this.loading=!1,this.toast.ShowSuccess("Paiement","Votre paiement est recu , en attente de de validation")):t.error&&(this.loading=!1,this.toast.ShowError("Paiement",t.message.toString()))})}onReset(){this.submitted=!1,this.form.reset()}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(r.qu),e.Y36(c.FF),e.Y36(h.gz),e.Y36(U.L),e.Y36(Z.f),e.Y36(g.k),e.Y36(d.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-facture"]],standalone:!0,features:[e.jDz],decls:87,vars:22,consts:[["bdColor","rgba(0,0,0,0.8)","size","default","color","","type","ball-spin-clockwise",3,"fullScreen"],[1,"row"],[1,"col"],["cardTitle","Client","blockClass","table-border-style",3,"options"],[1,"container-info-vehicule"],[1,"label"],["cardTitle","V\xe9hicule","blockClass","table-border-style",3,"options"],[1,"col-xl-12"],["cardTitle","Facture","blockClass","table-border-style",3,"options"],[1,"table-responsive"],[1,"table","table-striped","table-hover","table-responsive"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"float-end"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"btn","btn-lg","btn-outline-primary",3,"click"],["content",""],["scope","row"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],["for","dateOfBirth"],[1,"input-group"],["formControlName","mode","id","",1,"form-control"],["value","Mvola"],["value","Orange Money"],["value","Visa"],["value","Espece"],["id","dateOfBirth","type","number","formControlName","montant","placeholder","0",1,"form-control"],[1,""],["type","submit",1,"btn","btn-primary"],[1,"modal-footer"]],template:function(a,t){if(1&a){const i=e.EpF();e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"app-card",3)(4,"div",4)(5,"p")(6,"span",5),e._uU(7,"Nom : "),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()(),e._UZ(10,"hr"),e.TgZ(11,"p")(12,"span",5),e._uU(13,"Pr\xe9nom : "),e.qZA(),e.TgZ(14,"span"),e._uU(15),e.qZA()(),e._UZ(16,"hr"),e.TgZ(17,"p")(18,"span",5),e._uU(19,"Email : "),e.qZA(),e.TgZ(20,"span"),e._uU(21),e.qZA()()()()(),e.TgZ(22,"div",2)(23,"app-card",6)(24,"div",4)(25,"p")(26,"span",5),e._uU(27,"Num\xe9ro : "),e.qZA(),e.TgZ(28,"span"),e._uU(29),e.qZA()(),e._UZ(30,"hr"),e.TgZ(31,"p")(32,"span",5),e._uU(33,"Marque : "),e.qZA(),e.TgZ(34,"span"),e._uU(35),e.qZA()(),e._UZ(36,"hr"),e.TgZ(37,"p")(38,"span",5),e._uU(39,"Mod\xe8le : "),e.qZA(),e.TgZ(40,"span"),e._uU(41),e.qZA()()()()(),e.TgZ(42,"div",2)(43,"app-card",6)(44,"div",4)(45,"p")(46,"span",5),e._uU(47,"Nom : "),e.qZA(),e.TgZ(48,"span"),e._uU(49),e.qZA()(),e._UZ(50,"hr"),e.TgZ(51,"p")(52,"span",5),e._uU(53,"Prenom : "),e.qZA(),e.TgZ(54,"span"),e._uU(55),e.qZA()(),e._UZ(56,"hr"),e.TgZ(57,"p")(58,"span",5),e._uU(59,"Email : "),e.qZA(),e.TgZ(60,"span"),e._uU(61),e.qZA()()()()()(),e.TgZ(62,"div",1)(63,"div",7)(64,"app-card",8)(65,"div",9)(66,"table",10)(67,"thead")(68,"tr")(69,"th"),e._uU(70,"Description"),e.qZA(),e.TgZ(71,"th",11),e._uU(72,"Montant"),e.qZA()()(),e.TgZ(73,"tbody"),e.YNc(74,L,6,7,"tr",12),e.qZA()(),e.TgZ(75,"p",13)(76,"span",5),e._uU(77,"Total : "),e.qZA(),e.TgZ(78,"span",5),e._uU(79),e.ALo(80,"currency"),e.qZA()(),e.YNc(81,j,1,0,"span",14),e.qZA(),e.TgZ(82,"button",15),e.NdJ("click",function(){e.CHM(i);const v=e.MAs(86);return e.KtG(t.open(v))}),e._uU(83," Pay\xe9e "),e.qZA()()()(),e.TgZ(84,"div",1),e.YNc(85,F,32,2,"ng-template",null,16,e.W1O),e.qZA()}2&a&&(e.Q6J("fullScreen",!0),e.xp6(3),e.Q6J("options",!1),e.xp6(6),e.hij("",t.reparation.client.nom," "),e.xp6(6),e.hij("",t.reparation.client.prenom," "),e.xp6(6),e.hij("",t.reparation.client.email," "),e.xp6(2),e.Q6J("options",!1),e.xp6(6),e.hij("",t.reparation.voiture.numero," "),e.xp6(6),e.hij("",t.reparation.voiture.marque," "),e.xp6(6),e.hij("",t.reparation.voiture.model," "),e.xp6(2),e.Q6J("options",!1),e.xp6(6),e.hij("",t.reparation.reparateur.nom," "),e.xp6(6),e.hij("",t.reparation.reparateur.prenom," "),e.xp6(6),e.hij("",t.reparation.reparateur.email," "),e.xp6(3),e.Q6J("options",!1),e.xp6(10),e.Q6J("ngForOf",t.reparation.reparation_faire),e.xp6(5),e.hij("",e.gM2(80,17,t.montantTotal,"Ar ","symbol","4.2-2")," "),e.xp6(2),e.Q6J("ngIf",t.loading))},dependencies:[u.ez,u.sg,u.O5,u.H9,b.m,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u,T.A,f.d,d.ef,d.Ro],styles:[".label[_ngcontent-%COMP%]{font-weight:700;color:#000}.text-right[_ngcontent-%COMP%]{text-align:right!important}.text-center[_ngcontent-%COMP%]{text-align:center!important}.text-left[_ngcontent-%COMP%]{text-align:left!important}"]}),n})()},{path:"liste",component:O}]}];let D=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.Bz.forChild(Q),h.Bz]}),n})(),N=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,D]}),n})()},4763:(y,A,o)=>{o.d(A,{i:()=>S});var u=o(1135),h=o(7579),f=o(8505),b=o(8372),d=o(3900),e=o(1005),U=o(9646),T=o(4650);let S=(()=>{class r{constructor(){this._loading$=new u.X(!0),this._search$=new h.x,this._reparations$=new u.X([]),this._total$=new u.X(0),this.reparations=[],this._state={page:1,pageSize:4,searchTerm:"",sortColumn:"",sortDirection:""}}_init(){this._search$.pipe((0,f.b)(()=>this._loading$.next(!0)),(0,b.b)(200),(0,d.w)(()=>this._search()),(0,e.g)(200),(0,f.b)(()=>this._loading$.next(!1))).subscribe(s=>{this._reparations$.next(s.reparations),this._total$.next(s.total)}),this._search$.next()}_setData(s){this.reparations=s}_search(){const{sortColumn:s,sortDirection:Z,pageSize:_,page:g,searchTerm:E}=this._state;let m=function x(r,c,s){return""===s||""===c?r:[...r].sort((Z,_)=>{const g=((r,c)=>r<c?-1:r>c?1:0)(Z[c],_[c]);return"asc"===s?g:-g})}(this.reparations,s,Z);m=m.filter(J=>function q(r,c){return r.includes(c)}(J.client.nom,E));const M=m.length;return m=m.slice((g-1)*_,(g-1)*_+_),(0,U.of)({reparations:m,total:M})}get reparations$(){return this._reparations$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}_set(s){Object.assign(this._state,s),this._search$.next()}set page(s){this._set({page:s})}set pageSize(s){this._set({pageSize:s})}set searchTerm(s){this._set({searchTerm:s})}set sortColumn(s){this._set({sortColumn:s})}set sortDirection(s){this._set({sortDirection:s})}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=T.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}]);