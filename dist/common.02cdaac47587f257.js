"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[592],{5408:(d,h,e)=>{e.d(h,{HR:()=>o,TF:()=>r});var r=(()=>{return(n=r||(r={})).deposer="Deposer",n.encours="En cours de r\xe9paration",n.fini="Finis",n.sortie="Sortie",r;var n})(),o=(()=>{return(n=o||(o={})).encours="En cours",n.fini="Finis",o;var n})()},8332:(d,h,e)=>{e.d(h,{L:()=>_});var r=e(4650),o=e(3941),p=e(4932),n=e(1195),c=e(8492);let _=(()=>{class i{constructor(t,s,u,l){this.authService=t,this.token=s,this.toast=u,this.router=l}canActivate(t,s){return!this.authService.isLoggedIn||"financier"===this.token.GetUser().role||(this.toast.ShowError("Connexion","Vous ne pouvez pas y accedez"),this.router.navigateByUrl("/dashboard"))}}return i.\u0275fac=function(t){return new(t||i)(r.LFG(o.g),r.LFG(p.B),r.LFG(n.k),r.LFG(c.F0))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},8858:(d,h,e)=>{e.d(h,{L:()=>_});var r=e(529),o=e(7579),p=e(8505),n=e(5408),c=e(4650);let _=(()=>{class i{constructor(t){this.http=t,this.base_url="https://back-m1p10mean.onrender.com/reparations/",this.headers=(new r.WM).set("Content-Type","application/json"),this._refresh=new o.x}get Refresh(){return this._refresh}detailReparation(t){return this.http.get(this.base_url+t+"/detail",{headers:this.headers})}all(){return this.http.get(this.base_url,{headers:this.headers})}listeReparation(t){const s=this.base_url+"liste?etat="+t;return(new r.LE).set("etat",t),this.http.get(s)}changeReparationEtat(t){return this.http.post(this.base_url+"change",{data:{reparation_id:t,etat:n.TF.fini}})}changeReparationsDetailseEtat(t,s){return this.http.post(this.base_url+"voiture/change",{data:{reparation_detail_id:s,reparation_id:t,etat:n.HR.fini}}).pipe((0,p.b)(()=>{this._refresh.next()}))}addReparationDetails(t,s){const u=this.base_url+"voiture/add",{cause:l,solution:E,prix:v}={...s};return this.http.post(u,{data:{reparations:{cause:l,solution:E,prix:v},reparation_id:t}}).pipe((0,p.b)(()=>{this._refresh.next()}))}paiementAvalider(){}}return i.\u0275fac=function(t){return new(t||i)(c.LFG(r.eN))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},3301:(d,h,e)=>{e.d(h,{f:()=>c});var r=e(4650),o=e(529),p=e(8492),n=e(3941);let c=(()=>{class _{constructor(a,t,s){this.http=a,this.router=t,this.authService=s,this.base_url="https://back-m1p10mean.onrender.com/users/"}listVoitures(){return this.http.get(this.base_url+"voitures")}ajouterVoiture(a){return this.http.post(this.base_url+"voitures",a)}deposerVoiture(a){return this.http.get(this.base_url+a+"/depot")}listReparations(){return this.http.get(this.base_url+"reparations")}payerReparation(a,t){return this.http.post(this.base_url+"reparations/paiement",{data:{paiement:a,reparation_id:t}})}}return _.\u0275fac=function(a){return new(a||_)(r.LFG(o.eN),r.LFG(p.F0),r.LFG(n.g))},_.\u0275prov=r.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);