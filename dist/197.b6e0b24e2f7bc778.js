"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[197],{197:(U,C,d)=>{d.r(C),d.d(C,{VoituresModule:()=>z});var c=d(6895),a=d(8492),t=d(2953),Z=d(2851),_=d(6270),u=d(4006),e=d(4650),T=d(529),b=d(3301),g=d(4631);function A(o,s){1&o&&(e.TgZ(0,"div")(1,"div",18),e._uU(2,"Veuillez pr\xe9ciser le num\xe9ro du v\xe9hicule "),e.qZA()())}function q(o,s){1&o&&(e.TgZ(0,"div")(1,"div",18),e._uU(2,"Veuillez pr\xe9ciser la marque "),e.qZA()())}function l(o,s){1&o&&(e.TgZ(0,"div")(1,"div",18),e._uU(2," Veuillez pr\xe9ciser le mod\xe9le "),e.qZA()())}function f(o,s){1&o&&(e.TgZ(0,"div")(1,"div",18),e._uU(2," Un probl\xe8me est survenu lors de l'insertion de votre v\xe9hivule "),e.qZA()())}function n(o,s){1&o&&e._UZ(0,"span",19)}let p=(()=>{class o{constructor(r,i,h,x){this.formBuilder=r,this.http=i,this.userService=h,this.router=x,this.form=new u.cw({numero:new u.NI(""),marque:new u.NI(""),model:new u.NI("")}),this.submitted=!1,this.loading=!1,this.error=!1}ngOnInit(){this.form=this.formBuilder.group({numero:["",u.kI.required],marque:["",u.kI.required],model:["",u.kI.required]})}get f(){return this.form.controls}onSubmit(){if(this.loading=!0,this.submitted=!0,this.form.invalid)return void(this.loading=!1);console.log(this.form.value);let r={numero:this.form.value.numero,marque:this.form.value.marque,model:this.form.value.model};console.log(r),this.userService.ajouterVoiture(r).subscribe(i=>{1==i.success?(this.loading=!1,this.router.navigateByUrl("/users/voitures/liste")):(this.error=!0,this.loading=!1)})}onReset(){this.submitted=!1,this.form.reset()}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(u.qu),e.Y36(T.eN),e.Y36(b.f),e.Y36(a.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ajout"]],standalone:!0,features:[e.jDz],decls:34,vars:7,consts:[[1,"row"],[1,"col-sm-12"],["cardTitle","Ajouter une voiture",3,"options"],[1,"col-md-12"],["novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","numero",1,"col-sm-3","col-form-label"],[1,"col-sm-5"],["type","text","formControlName","numero","id","numero","placeholder","4589 WWT","required","",1,"form-control"],[4,"ngIf"],["for","marque",1,"col-sm-3","col-form-label"],["type","text","formControlName","marque","id","marque","placeholder","Mazda","required","",1,"form-control"],["for","model",1,"col-sm-3","col-form-label"],["type","text","formControlName","model","id","model","placeholder","BT 50","required","",1,"form-control"],[1,"col-sm-10"],["type","submit",1,"btn","btn-primary"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"offset-3",2,"padding-left","12px","padding-top","10px","font-size","12px","color","red"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(r,i){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-card",2)(3,"div",3)(4,"form",4),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(5,"div",5)(6,"label",6),e._uU(7,"Num\xe9ro du v\xe9hicule "),e.qZA(),e.TgZ(8,"div",7),e._UZ(9,"input",8),e.qZA()(),e.YNc(10,A,3,0,"div",9),e._UZ(11,"br"),e.TgZ(12,"div",5)(13,"label",10),e._uU(14,"Marque"),e.qZA(),e.TgZ(15,"div",7),e._UZ(16,"input",11),e.qZA()(),e.YNc(17,q,3,0,"div",9),e._UZ(18,"br"),e.TgZ(19,"div",5)(20,"label",12),e._uU(21,"Mod\xe8le"),e.qZA(),e.TgZ(22,"div",7),e._UZ(23,"input",13),e.qZA()(),e.YNc(24,l,3,0,"div",9),e._UZ(25,"br"),e.YNc(26,f,3,0,"div",9),e.TgZ(27,"div",5)(28,"div",14)(29,"button",15),e._uU(30,"Ajouter le v\xe9hicule "),e.YNc(31,n,1,0,"span",16),e.qZA(),e.TgZ(32,"button",17),e.NdJ("click",function(){return i.onReset()}),e._uU(33,"Nettoyer"),e.qZA()()()()()()()()),2&r&&(e.xp6(2),e.Q6J("options",!1),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngIf",i.submitted&&i.f.numero.errors),e.xp6(7),e.Q6J("ngIf",i.submitted&&i.f.marque.errors),e.xp6(7),e.Q6J("ngIf",i.submitted&&i.f.model.errors),e.xp6(2),e.Q6J("ngIf",i.error),e.xp6(5),e.Q6J("ngIf",i.loading))},dependencies:[c.ez,c.O5,_.m,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.sg,u.u,g.A,t.XC,Z.e4]}),o})();const m=function(o){return["/users/voitures/historique",o]};function v(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"tr")(1,"th",9),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",10)(10,"button",11),e.NdJ("click",function(){const x=e.CHM(r).$implicit,Q=e.oxw();return e.KtG(Q.deposerVoiture(x.numero))}),e._uU(11,"D\xe9poser"),e.qZA(),e.TgZ(12,"a",2)(13,"button",12),e._uU(14,"Voir l'historique"),e.qZA()()()()}if(2&o){const r=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(r.numero),e.xp6(2),e.Oqu(r.model),e.xp6(2),e.Oqu(r.marque),e.xp6(4),e.Q6J("routerLink",e.VKq(5,m,r.numero))}}function y(o,s){1&o&&e._UZ(0,"span",13)}const I=function(){return["/users/voitures/ajout"]};let J=(()=>{class o{constructor(r,i){this.userService=r,this.router=i,this.voitures=[],this.loading=!0}ngOnInit(){this.userService.listVoitures().subscribe(r=>{1==r.success&&(this.voitures=r.data,this.loading=!1)})}deposerVoiture(r){this.loading=!0,this.userService.deposerVoiture(r).subscribe(i=>{1==i.success&&(this.loading=!1,this.router.navigateByUrl("/users/reparations/liste"))})}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(b.f),e.Y36(a.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-liste"]],standalone:!0,features:[e.jDz],decls:24,vars:5,consts:[[1,"row"],[1,"col-xl-12"],[3,"routerLink"],[1,"btn","btn-danger"],["cardTitle","Liste des voitures","blockClass","table-border-style",3,"options"],[1,"table-responsive"],[1,"table","table-striped","table-hover","table-responsive"],[4,"ngFor","ngForOf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["scope","row"],[1,"action"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(r,i){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p")(3,"a",2)(4,"button",3),e._uU(5,"Ajouter une voiture"),e.qZA()()(),e.TgZ(6,"app-card",4)(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),e._uU(12,"#"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Num\xe9ro du v\xe9hicule"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Mod\xe8le"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Marque"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Action"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,v,15,7,"tr",7),e.qZA()(),e.YNc(23,y,1,0,"span",8),e.qZA()()()()),2&r&&(e.xp6(3),e.Q6J("routerLink",e.DdM(4,I)),e.xp6(3),e.Q6J("options",!1),e.xp6(16),e.Q6J("ngForOf",i.voitures),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[c.ez,c.sg,c.O5,_.m,g.A,a.Bz,a.rH],styles:[".action[_ngcontent-%COMP%]{width:200px}"]}),o})();var E=d(6337),O=d(3941);let M=(()=>{class o{constructor(r,i,h){this.http=r,this.router=i,this.authService=h,this.base_url="https://back-m1p10mean.onrender.com/reparations/"}listRepartionOfVoiture(r){return this.http.get(this.base_url+r+"/historique")}}return o.\u0275fac=function(r){return new(r||o)(e.LFG(T.eN),e.LFG(a.F0),e.LFG(O.g))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const j=function(o){return["/users/reparations/details",o]};function w(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"th",7),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",8)(12,"a",9)(13,"button",10),e._uU(14,"Avancement"),e.qZA()()()()),2&o){const r=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(r.voiture.numero),e.xp6(2),e.AsE("",e.lcZ(7,6,r.date_depot)," - ",e.xi3(8,8,r.date_depot,"shortTime"),""),e.xp6(4),e.Oqu(r.status),e.xp6(2),e.Q6J("routerLink",e.VKq(11,j,r._id))}}function N(o,s){1&o&&e._UZ(0,"span",11)}const H=[{path:"",children:[{path:"liste",component:J},{path:"ajout",component:p},{path:"historique/:idvoiture",component:(()=>{class o{constructor(r,i){this.activatedRoute=r,this.voitureService=i,this.loading=!1,this.reparations=[]}ngOnInit(){this.loading=!0,this.activatedRoute.params.subscribe(r=>{this.id=r.idvoiture,this.voitureService.listRepartionOfVoiture(r.idvoiture).subscribe(i=>{i.success&&(this.reparations=i.data.historiques,this.loading=!1)})})}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(a.gz),e.Y36(M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-historique"]],standalone:!0,features:[e.jDz],decls:22,vars:4,consts:[[1,"row"],[1,"col-xl-12"],["blockClass","table-border-style",3,"cardTitle","options"],[1,"table-responsive"],[1,"table","table-striped","table-hover","table-responsive"],[4,"ngFor","ngForOf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["scope","row"],[1,"action"],[3,"routerLink"],[1,"btn","btn-secondary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1,"historique works!"),e.qZA(),e.TgZ(2,"div",0)(3,"div",1)(4,"app-card",2)(5,"div",3)(6,"table",4)(7,"thead")(8,"tr")(9,"th"),e._uU(10,"#"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"V\xe9hicule"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Date de d\xe9p\xf4t"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Status"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Action"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,w,15,13,"tr",5),e.qZA()(),e.YNc(21,N,1,0,"span",6),e.qZA()()()()),2&r&&(e.xp6(4),e.MGl("cardTitle","Historique de r\xe9paration du v\xe9hicule : ",i.id,""),e.Q6J("options",!1),e.xp6(16),e.Q6J("ngForOf",i.reparations),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[c.ez,c.sg,c.O5,c.uU,_.m,g.A,E.d,a.Bz,a.rH],styles:[".action[_ngcontent-%COMP%]{width:200px}"]}),o})()}]}];let R=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.Bz.forChild(H),a.Bz]}),o})(),z=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,R]}),o})()},4631:(U,C,d)=>{d.d(C,{A:()=>q});var c=d(2953),a=d(7340),t=d(4650),Z=d(6895);function _(l,f){if(1&l&&(t.TgZ(0,"h5"),t._uU(1),t.qZA()),2&l){const n=t.oxw(2);t.xp6(1),t.Oqu(n.cardTitle)}}function u(l,f){if(1&l){const n=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"button",10),t._UZ(3,"i",11),t.qZA(),t.TgZ(4,"ul",12)(5,"li",13),t.NdJ("click",function(){t.CHM(n);const m=t.oxw(2),v=t.MAs(1);return t.KtG(m.fullCardToggle(v,"",!0))}),t.TgZ(6,"a",14)(7,"span"),t._UZ(8,"i",15),t._uU(9),t.qZA()()(),t.TgZ(10,"li",16),t.NdJ("click",function(m){t.CHM(n);const v=t.oxw(2);return t.KtG(v.collapsedCardToggle(m))}),t.TgZ(11,"a",14)(12,"span"),t._UZ(13,"i",15),t._uU(14),t.qZA(),t.TgZ(15,"span",17),t._UZ(16,"i",18),t.qZA()()(),t.TgZ(17,"li",19),t.NdJ("click",function(){t.CHM(n);const m=t.oxw(2);return t.KtG(m.cardRefresh())}),t.TgZ(18,"a",14),t._UZ(19,"i",20),t._uU(20," Reload"),t.qZA()(),t.TgZ(21,"li",21),t.NdJ("click",function(){t.CHM(n);const m=t.oxw(2);return t.KtG(m.cardRemoveAction())}),t.TgZ(22,"a",14),t._UZ(23,"i",22),t._uU(24," Remove"),t.qZA()()()()()}if(2&l){const n=t.oxw(2);t.xp6(8),t.Q6J("ngClass",n.fullIcon),t.xp6(1),t.hij(" ","full-card"===n.cardClass?"Restore":"Maximize",""),t.xp6(4),t.Q6J("ngClass",n.collapsedIcon),t.xp6(1),t.hij(" ","collapsed"===n.collapsedCard?"Expand":"Collapse"," ")}}function e(l,f){1&l&&t.Hsn(0,1,["*ngIf","customHeader"])}function T(l,f){if(1&l&&(t.TgZ(0,"div",5),t.YNc(1,_,2,1,"h5",6),t.YNc(2,u,25,4,"div",7),t.YNc(3,e,1,0,"ng-content",6),t.qZA()),2&l){const n=t.oxw();t.Q6J("ngClass",n.headerClass),t.xp6(1),t.Q6J("ngIf",!n.customHeader),t.xp6(1),t.Q6J("ngIf",n.options&&!n.customHeader),t.xp6(1),t.Q6J("ngIf",n.customHeader)}}function b(l,f){1&l&&(t.TgZ(0,"div",23),t._UZ(1,"i",24),t.qZA())}const g=["*",[["",8,"app-card-header"]]],A=["*",".app-card-header"];let q=(()=>{class l{constructor(n){n.placement="bottom-right",this.customHeader=!1,this.options=!0,this.hidHeader=!1,this.cardTitle="Card Title",this.fullIcon="icon-maximize",this.isAnimating=!1,this.collapsedCard="expanded",this.collapsedIcon="icon-minus",this.loadCard=!1,this.cardRemove="open"}ngOnInit(){(!this.options||this.hidHeader||this.customHeader)&&(this.collapsedCard="false")}fullCardToggle(n,p,m){p="full-card"===this.cardClass?"zoomOut":"zoomIn",this.fullIcon="full-card"===this.cardClass?"icon-maximize":"icon-minimize",this.cardClass="full-card"===this.cardClass?this.cardClass:"full-card",m&&(this.animation=p),this.isAnimating=!0,setTimeout(()=>{this.cardClass="zoomOut"===p?"":this.cardClass,"full-card"===this.cardClass?document.querySelector("body").style.overflow="hidden":document.querySelector("body").removeAttribute("style")},500)}collapsedCardToggle(n){this.collapsedCard="collapsed"===this.collapsedCard?"expanded":"collapsed",this.collapsedIcon="collapsed"===this.collapsedCard?"icon-plus":"icon-minus"}cardRefresh(){this.loadCard=!0,this.cardClass="card-load",setTimeout(()=>{this.loadCard=!1,this.cardClass="expanded"},3e3)}cardRemoveAction(){this.cardRemove="closed"===this.cardRemove?"open":"closed"}}return l.\u0275fac=function(n){return new(n||l)(t.Y36(c.jL))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-card"]],inputs:{cardTitle:"cardTitle",cardClass:"cardClass",blockClass:"blockClass",headerClass:"headerClass",options:"options",hidHeader:"hidHeader",customHeader:"customHeader"},features:[t._Bn([c.jL])],ngContentSelectors:A,decls:7,vars:6,consts:[[1,"card",3,"ngClass"],["toAnimate",""],["class","card-header",3,"ngClass",4,"ngIf"],[1,"card-block",3,"ngClass"],["class","card-loader",4,"ngIf"],[1,"card-header",3,"ngClass"],[4,"ngIf"],["class","card-header-right",4,"ngIf"],[1,"card-header-right"],["ngbDropdown","",1,"btn-group","card-option","dropdown"],["type","button","ngbDropdownToggle","",1,"btn","dropdown-toggle","btn-icon"],[1,"feather","icon-more-horizontal"],["ngbDropdownMenu","",1,"list-unstyled","card-option","dropdown-menu","dropdown-menu-right"],[1,"dropdown-item","full-card",3,"click"],["href","javascript:"],[1,"feather",3,"ngClass"],[1,"dropdown-item","minimize-card",3,"click"],[2,"display","none"],[1,"feather","icon-plus"],[1,"dropdown-item","reload-card",3,"click"],[1,"feather","icon-refresh-cw"],[1,"dropdown-item","close-card",3,"click"],[1,"feather","icon-trash"],[1,"card-loader"],[1,"pct-loader1","anim-rotate"]],template:function(n,p){1&n&&(t.F$t(g),t.TgZ(0,"div",0,1),t.YNc(2,T,4,4,"div",2),t.TgZ(3,"div")(4,"div",3),t.Hsn(5),t.qZA()(),t.YNc(6,b,2,0,"div",4),t.qZA()),2&n&&(t.Q6J("ngClass",p.cardClass)("@cardRemove",p.cardRemove),t.xp6(2),t.Q6J("ngIf",!p.hidHeader),t.xp6(1),t.Q6J("@collapsedCard",p.collapsedCard),t.xp6(1),t.Q6J("ngClass",p.blockClass),t.xp6(2),t.Q6J("ngIf",p.loadCard))},dependencies:[Z.mk,Z.O5,c.jt,c.iD,c.Vi],styles:[".card.full-card[_ngcontent-%COMP%]{position:fixed!important;top:0!important;left:0!important;z-index:99999;border-radius:0;width:100vw!important;height:100vh!important}"],data:{animation:[(0,a.X$)("collapsedCard",[(0,a.SB)("collapsed, void",(0,a.oB)({overflow:"hidden",height:"0px"})),(0,a.SB)("expanded",(0,a.oB)({overflow:"hidden",height:a.l3})),(0,a.eR)("collapsed <=> expanded",[(0,a.jt)("400ms ease-in-out")])]),(0,a.X$)("cardRemove",[(0,a.SB)("open",(0,a.oB)({opacity:1})),(0,a.SB)("closed",(0,a.oB)({opacity:0,display:"none"})),(0,a.eR)("open <=> closed",(0,a.jt)("400ms"))])]}}),l})()}}]);